!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/animations"),require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-trend",["exports","@angular/animations","@angular/core","@angular/common"],n):n((t=t||self)["ngx-trend"]={},t.ng.animations,t.ng.core,t.ng.common)}(this,(function(t,n,e,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function a(t,n,e,i){var a,r=arguments.length,o=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,e,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(n,e,o):a(n,e))||o);return r>3&&o&&Object.defineProperty(n,e,o),o}function r(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var i,a,r=e.call(t),o=[];try{for(;(void 0===n||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(t){a={error:t}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}function o(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(r(arguments[n]));return t}function s(t,n,e,i,a){return void 0===i&&(i=0),void 0===a&&(a=1),n===e?i:i+(t-n)*(a-i)/(e-n)}function d(t,n,e){var i=Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y)),a=(t.x-n.x)/i,r=(t.y-n.y)/i;return{x:n.x+a*e,y:n.y+r*e}}var h=function(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},p=function(t,n,e){return(t.y-n.y)*(t.x-e.x)==(t.y-e.y)*(t.x-n.x)};var u=function(){return Math.round(Math.random()*Math.pow(10,16))};var g=function(){function t(){this.autoDraw=!1,this.autoDrawDuration=2e3,this.autoDrawEasing="ease",this.padding=8,this.radius=10,this.stroke="black",this.strokeLinecap="",this.strokeWidth=1,this.gradient=[],this.svgHeight="25%",this.svgWidth="100%",this.animationState="",this.id=u(),this.gradientId="ngx-trend-vertical-gradient-"+this.id}return t.prototype.ngOnChanges=function(){var t=this;if(this.data&&!(this.data.length<2)){var n=this.data.map((function(t){return"number"==typeof t?t:t.value})),e=this.width||300,i=this.height||75;this.svgWidth=this.width||"100%",this.svgHeight=this.height||"25%",this.viewBox="0 0 "+e+" "+i;var a=location.href.split(location.hash||"#")[0];this.pathStroke=this.gradient&&this.gradient.length?"url('"+a+"#"+this.gradientId+"')":void 0,this.gradientTrimmed=this.gradient.slice().reverse().map((function(n,e){return{idx:e,stopColor:n,offset:s(e,0,t.gradient.length-1||1)}}));var u,g,l,c,f,y,v,m,x=(u=n,g=this.padding,l=e-this.padding,c=i-this.padding,f=this.padding,y={min:0,max:u.length-1},v={min:Math.min.apply(Math,o(u)),max:Math.max.apply(Math,o(u))},m=u.map((function(t,n){return{x:s(n,y.min,y.max,g,l),y:s(t,v.min,v.max,c,f)}})),v.min===v.max&&(m[0].y+=1e-4),m);this.autoDraw&&"active"!==this.animationState&&(this.animationState="inactive",setTimeout((function(){t.lineLength=t.pathEl.nativeElement.getTotalLength(),t.animationState="active"}))),this.d=this.smooth?function(t,n){var e=r(t),i=e[0],a=e.slice(1);return a.reduce((function(t,e,r){var o=a[r+1],s=a[r-1]||i,u=o&&p(s,e,o);if(!o||u)return t+"\nL "+e.x+","+e.y;var g=h(s,e),l=h(o,e),c=Math.min(g,l),f=c/2<n?c/2:n,y=d(s,e,f),v=d(o,e,f);return[t,"L "+y.x+","+y.y,"S "+e.x+","+e.y+" "+v.x+","+v.y].join("\n")}),"M "+i.x+","+i.y)}(x,this.radius):function(t){return t.reduce((function(t,n,e){return""+t+(0===e?"M":"L")+" "+n.x+","+n.y+"\n"}),"")}(x)}},a([e.Input()],t.prototype,"data",void 0),a([e.Input()],t.prototype,"smooth",void 0),a([e.Input()],t.prototype,"autoDraw",void 0),a([e.Input()],t.prototype,"autoDrawDuration",void 0),a([e.Input()],t.prototype,"autoDrawEasing",void 0),a([e.Input()],t.prototype,"width",void 0),a([e.Input()],t.prototype,"height",void 0),a([e.Input()],t.prototype,"padding",void 0),a([e.Input()],t.prototype,"radius",void 0),a([e.Input()],t.prototype,"stroke",void 0),a([e.Input()],t.prototype,"strokeLinecap",void 0),a([e.Input()],t.prototype,"strokeWidth",void 0),a([e.Input()],t.prototype,"gradient",void 0),a([e.Input()],t.prototype,"preserveAspectRatio",void 0),a([e.Input()],t.prototype,"svgHeight",void 0),a([e.Input()],t.prototype,"svgWidth",void 0),a([e.ViewChild("pathEl",{static:!1})],t.prototype,"pathEl",void 0),t=a([e.Component({selector:"ngx-trend",template:'\n  <svg *ngIf="data && data.length >= 2"\n    [attr.width]="svgWidth"\n    [attr.height]="svgHeight"\n    [attr.stroke]="stroke"\n    [attr.stroke-width]="strokeWidth"\n    [attr.stroke-linecap]="strokeLinecap"\n    [attr.viewBox]="viewBox"\n    [attr.preserveAspectRatio]="preserveAspectRatio"\n  >\n    <defs *ngIf="gradient && gradient.length">\n      <linearGradient [attr.id]="gradientId" x1="0%" y1="0%" x2="0%" y2="100%">\n        <stop\n          *ngFor="let g of gradientTrimmed;"\n          [attr.key]="g.idx"\n          [attr.offset]="g.offset"\n          [attr.stop-color]="g.stopColor"\n        />\n      </linearGradient>\n    </defs>\n    <path fill="none" #pathEl\n      [attr.stroke]="pathStroke" [attr.d]="d"\n      [@pathAnimaiton]="{\n        value: animationState,\n        params: {\n          autoDrawDuration: autoDrawDuration,\n          autoDrawEasing: autoDrawEasing,\n          lineLength: lineLength\n        }\n      }" />\n  </svg>\n  ',animations:[n.trigger("pathAnimaiton",[n.state("inactive",n.style({display:"none"})),n.transition("* => active",[n.style({display:"initial"}),n.animate("{{ autoDrawDuration }}ms {{ autoDrawEasing }}",n.keyframes([n.style({"stroke-dasharray":"{{ lineLength }}px","stroke-dashoffset":"{{ lineLength }}px"}),n.style({"stroke-dasharray":"{{ lineLength }}px","stroke-dashoffset":0})])),n.style({"stroke-dashoffset":"","stroke-dasharray":""})])])]})],t)}(),l=function(){function t(){}return t=a([e.NgModule({imports:[i.CommonModule],exports:[g],declarations:[g]})],t)}();t.TrendComponent=g,t.TrendModule=l,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-trend.umd.min.js.map